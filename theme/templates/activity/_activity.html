{% load humanize %}
{% load heroicons %}
{% load static %}

<li class="relative px-4 py-6 bg-white border rounded bg-gray-50 space-y-4">
  <section class="flex items-center justify-between space-x-2">
    {% include "activity/_activity_date.html" %}
    {% if request.user == activity.user %}
      <a href="{% url "activity:detail" activity.id %}"
         class="opacity-50 text-link"
         title="View this activity">
        {% heroicon_outline "chart-pie" class="w-4 h-4" %}
      </a>
    {% endif %}
  </section>
  <h3 class="flex items-center text-xl font-bold justify-stretch space-x-3">
    <span class="flex-shrink-0">
    {% if activity.type == "Ride" %}
      {% include "activity/ride.svg" %}
    {% elif activity.type == "Run" %}
      {% include "activity/run.svg" %}
    {% elif activity.type == "Swim" %}
      {% include "activity/swim.svg" %}
    {% elif activity.type == "Hike" %}
      {% include "activity/hike.svg" %}
    {% elif activity.type == "Walk" %}
      {% include "activity/walk.svg" %}
    {% else %}
      {% include "activity/activity.svg" %}
    {% endif %}
    </span>
    <p>{{ activity.name }}</p>
  </h3>
  <section class="flex items-start justify-start">
    <section class="pr-4 border-r">
      {% if activity.distance %}
        <h4 class="text-xs">Distance</h4>
        <p class="text-base">{{ activity.total_distance }}</p>
      {% else %}
        <h4 class="text-xs">Calories</h4>
        <p class="text-base">{{ activity.calories|intcomma }}</p>
      {% endif %}
    </section>
    <section class="px-4 border-r">
      {% if activity.type == "Ride" %}
        <h4 class="text-xs">Elev. gain</h4>
        <p class="text-base">{{ activity.total_elev }}</p>
      {% elif activity.type == "Run" %}
        <h4 class="text-xs">Pace</h4>
        <p class="text-base">{{ activity.avg_pace }}</p>
      {% elif activity.type == "Swim" %}
        <h4 class="text-xs">Speed</h4>
        <p class="text-base">{{ activity.avg_speed_mps }}</p>
      {% elif activity.distance %}
        <h4 class="text-xs">Speed</h4>
        <p class="text-base">{{ activity.avg_speed_kph }}</p>
      {% else %}
        <h4 class="text-xs">Avg. HR</h4>
        <p class="text-base">{{ activity.average_hr }}</p>
      {% endif %}
    </section>
    <section class="px-4">
      <h4 class="text-xs">Time</h4>
      <p class="text-base">{{ activity.total_moving_time }}</p>
    </section>
  </section>

  {% include "activity/_activity_map.html" %}
<li>
